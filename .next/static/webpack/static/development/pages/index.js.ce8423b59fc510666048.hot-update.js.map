{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.ce8423b59fc510666048.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { Button, Grid, Header, Icon, Segment } from 'semantic-ui-react';\r\nimport Layout from '../components/layouts/Layout';\r\nimport { Router } from './../routes';\r\nimport Web3 from 'web3';\r\nimport Matic from 'maticjs';\r\nlet t = ''\r\n\r\n\r\n\r\nclass Home extends Component {\r\n\t\r\n\tstate = {\r\n\t\tisLoggedin: false,\r\n\t\taccount: null,\r\n    \tbalance: ''\r\n\t}\r\n\tasync componentDidMount(){\r\n\t\tt = require('@toruslabs/torus-embed').default\r\n\t\tconsole.log(t)\r\n\t}\r\n\r\n\thandleSubmit = async e => {\r\n\t\te.preventDefault();\r\n\t\tif(Notification.permission!=='denied'){\r\n\t\t\tNotification.requestPermission().then( async (permission)=>{\r\n\t\t\t\tif(permission==='granted'){\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst torus = new t({\r\n\t\t\t\t\t\t  buttonPosition: \"bottom-left\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tawait torus.init({\r\n\t\t\t\t\t\t  buildEnv: \"production\",\r\n\t\t\t\t\t\t  enableLogging: true,\r\n\t\t\t\t\t\t  network: {\r\n\t\t\t\t\t\t\thost: \"https://alpha.ethereum.matic.network/\"\r\n\t\t\t\t\t\t  },\r\n\t\t\t\t\t\t  showTorusButton: true,\r\n\t\t\t\t\t\t  enabledVerifiers: {\r\n\t\t\t\t\t\t\tfacebook: false,\r\n\t\t\t\t\t\t\treddit: false,\r\n\t\t\t\t\t\t\ttwitch: false,\r\n\t\t\t\t\t\t\tdiscord: false\r\n\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tawait torus.login();\r\n\t\t\t\t\t\tconst web3 = new Web3(torus.provider);\r\n\t\t\t\t\t\tconst maticObj = new Matic({\r\n\t\t\t\t\t\t  maticProvider: web3.eth.currentProvider,\r\n\t\t\t\t\t\t  parentProvider: web3.eth.currentProvider,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tlet accounts = await web3.eth.getAccounts();\r\n\t\t\t\t\t\twindow.maticObj = maticObj;\r\n\t\t\t\t\t\twindow.torus = torus;\r\n\t\t\t\t\t\twindow.web3 = web3;\r\n\t\t\t\t\t\tif (accounts[0]) {\r\n\t\t\t\t\t\t  this.state.isLoggedIn = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\twindow.account=accounts[0];\r\n\t\t\t\t\t\tRouter.pushRoute('/'+window.account)\r\n\t\t\t\t\t  } catch (error) {\r\n\t\t\t\t\t\tconsole.log(\"Error \", error);\r\n\t\t\t\t\t  }\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\talert(\"Application not accessible\")\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t}\r\n\t\telse{\r\n\t\t\tconsole.log(\"Wrong\")\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div style={{ backgroundColor: 'black', height: '1000px' }}>\r\n\t\t\t\t<Layout>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Header as=\"h1\" icon textAlign=\"center\">\r\n\t\t\t\t\t\t\t<Icon name=\"file code\" circular style={{ color: 'white' }} />\r\n\t\t\t\t\t\t\t<Header.Content style={{ color: 'white' }}>EtherWills</Header.Content>\r\n\t\t\t\t\t\t</Header>\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tstyle={{ fontSize: '2em', color: 'white', marginLeft: '12em', marginRight: '4em', marginTop: '4em' }}\r\n\t\t\t\t\t\t\ttextAlign=\"center\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tPlease log in to create an EtherWill\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style={{ marginTop: '125px' }}>\r\n\t\t\t\t\t\t<Segment placeholder style={{ marginTop: 'auto', backgroundColor: 'black' }}>\r\n\t\t\t\t\t\t\t<Grid stackable textAlign=\"center\">\r\n\t\t\t\t\t\t\t\t<Grid.Row verticalAlign=\"middle\">\r\n\t\t\t\t\t\t\t\t\t<Grid.Column>\r\n\t\t\t\t\t\t\t\t\t\t<Header icon style={{ color: 'white' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Icon name=\"hand point down\" />\r\n\t\t\t\t\t\t\t\t\t\t</Header>\r\n\t\t\t\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t\t\t\t\t<Grid.Row verticalAlign=\"middle\">\r\n\t\t\t\t\t\t\t\t\t<Grid.Column>\r\n\t\t\t\t\t\t\t\t\t\t<Button color=\"green\" onClick={this.handleSubmit}>Log In</Button>\r\n\t\t\t\t\t\t\t\t\t</Grid.Column>\r\n\t\t\t\t\t\t\t\t</Grid.Row>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Segment>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Layout>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Home;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AAHA;AACA;AASA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAGA;AACA;AADA;AAHA;AAAA;AAOA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AAJA;AAPA;AACA;AAPA;AAAA;AAAA;AACA;AADA;AAqBA;AACA;AACA;AACA;AAFA;AAtBA;AAAA;AACA;AADA;AA0BA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAlCA;AAAA;AACA;AADA;AAAA;AAAA;AAoCA;AACA;AArCA;AAAA;AAAA;AACA;AADA;AAwCA;AACA;AAzCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4CA;AAEA;AACA;AACA;AAnDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;AALA;AACA;AACA;;;;;;;;;;AAuDA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAFA;AAOA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAIA;AAAA;AAEA;AAAA;AAAA;AASA;;;;AAtGA;AACA;AAwGA;;;;A","sourceRoot":""}